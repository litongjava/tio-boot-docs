# å®šæ—¶æ¨é€

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä¸º Telegram ç¿»è¯‘æœºå™¨äººæ·»åŠ å®šæ—¶æ¨é€åŠŸèƒ½ã€‚å…·ä½“åŒ…æ‹¬åˆ›å»ºä¸€ä¸ª Telegram ç¾¤ç»„ï¼Œå¹¶é…ç½®æœºå™¨äººå®šæ—¶å‘è¯¥ç¾¤ç»„æ¨é€æŒ‡å®šçš„æ–‡ç« ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥å®ç°å®šæœŸåˆ†äº«å†…å®¹ï¼Œæé«˜ç¾¤ç»„çš„æ´»è·ƒåº¦å’Œç”¨æˆ·å‚ä¸åº¦ã€‚

## æ­¥éª¤æ¦‚è¿°

1. **åˆ›å»ºä¸€ä¸ª Telegram ç¾¤ç»„**
2. **é…ç½®æœºå™¨äººåŠ å…¥ç¾¤ç»„**
3. **å®ç°å®šæ—¶æ¨é€åŠŸèƒ½**
4. **æµ‹è¯•ä¸éªŒè¯**

## æ­¥éª¤è¯¦è§£

### 1. åˆ›å»ºä¸€ä¸ª Telegram ç¾¤ç»„

é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨ Telegram ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç¾¤ç»„ï¼Œç”¨äºæ¥æ”¶æœºå™¨äººå®šæ—¶æ¨é€çš„æ–‡ç« ã€‚

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€ Telegram åº”ç”¨ã€‚
2. ç‚¹å‡»å·¦ä¸Šè§’çš„â€œä¸‰æ¡æ¨ªçº¿â€èœå•å›¾æ ‡ï¼Œé€‰æ‹©â€œæ–°å»ºç¾¤ç»„â€ã€‚
3. ä»è”ç³»äººåˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼ˆæ‚¨å¯ä»¥åœ¨åç»­æ­¥éª¤ä¸­æ·»åŠ æœºå™¨äººï¼‰ã€‚
4. ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œä¸ºç¾¤ç»„å‘½åï¼Œä¾‹å¦‚â€œæ¯æ—¥æ–‡ç« æ¨é€â€ã€‚
5. å®Œæˆç¾¤ç»„åˆ›å»ºåï¼Œè®°ä¸‹ç¾¤ç»„çš„åç§°å’Œé“¾æ¥ï¼Œä»¥ä¾¿åç»­é…ç½®ã€‚

### 2. é…ç½®æœºå™¨äººåŠ å…¥ç¾¤ç»„

ä¸ºäº†è®©æœºå™¨äººèƒ½å¤Ÿå‘ç¾¤ç»„å‘é€æ¶ˆæ¯ï¼Œæ‚¨éœ€è¦å°†æœºå™¨äººæ·»åŠ åˆ°ç¾¤ç»„ä¸­ï¼Œå¹¶æˆäºˆç›¸åº”çš„æƒé™ã€‚

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨ Telegram ä¸­ï¼Œè¿›å…¥æ‚¨åˆšåˆ›å»ºçš„ç¾¤ç»„ã€‚
2. ç‚¹å‡»ç¾¤ç»„åç§°ï¼Œè¿›å…¥ç¾¤ç»„ä¿¡æ¯é¡µé¢ã€‚
3. é€‰æ‹©â€œæ·»åŠ æˆå‘˜â€ï¼Œæœç´¢å¹¶é€‰æ‹©æ‚¨çš„æœºå™¨äººï¼ˆä¾‹å¦‚ï¼š`litongjava_bot`ï¼‰ã€‚
4. å°†æœºå™¨äººæ·»åŠ åˆ°ç¾¤ç»„åï¼Œç¡®ä¿å®ƒå…·æœ‰å‘é€æ¶ˆæ¯çš„æƒé™ã€‚

**è·å–ç¾¤ç»„çš„ Chat ID**

ä¸ºäº†è®©æœºå™¨äººèƒ½å¤Ÿå‘ç¾¤ç»„å‘é€æ¶ˆæ¯ï¼Œæ‚¨éœ€è¦è·å–ç¾¤ç»„çš„ Chat IDã€‚ç”±äºä½¿ç”¨ MTProto åè®®ï¼Œè·å– Chat ID çš„æ–¹å¼ç¨æœ‰ä¸åŒã€‚

**æ–¹æ³•ä¸€ï¼šé€šè¿‡æ—¥å¿—è·å–**

1. å¯åŠ¨æ‚¨çš„ Telegram Translate Botã€‚
2. åœ¨ç¾¤ç»„ä¸­å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ï¼ŒæŸ¥æ‰¾è¯¥æ¶ˆæ¯äº‹ä»¶ä¸­çš„ `chatId`ã€‚

**æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸“ç”¨å‘½ä»¤**

æ‚¨å¯ä»¥ä¸ºæœºå™¨äººæ·»åŠ ä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚ `get_chat_id`ï¼Œç”¨äºè·å–å½“å‰èŠå¤©çš„ Chat IDã€‚

```java
  private Mono<Message> processAndSendMessage(Chat chat, Message message) {
    String text = message.getContent();

    if (text.equals("/get_chat_id")) {
      Id id = chat.getId();
      Mono<Message> monoMessage = chat.sendMessage("Chat ID: " + id.asLong());
      return monoMessage;
    }
```

æ·»åŠ ä¸Šè¿°ä»£ç åï¼Œé‡æ–°å¯åŠ¨æœºå™¨äººï¼Œå¹¶åœ¨ç¾¤ç»„ä¸­å‘é€ `get_chat_id`ï¼Œæœºå™¨äººå°†å›å¤ç¾¤ç»„çš„ Chat IDã€‚
ä¸ç”¨@æœºå™¨äºº,æœºå™¨äºº ä¼šè‡ªåŠ¨è·å–ç¾¤ä¸­çš„æ‰€æœ‰æ¶ˆæ¯

### 3. å®ç°å®šæ—¶æ¨é€åŠŸèƒ½

ä¸ºäº†å®ç°å®šæ—¶å‘ç¾¤ç»„æ¨é€æ–‡ç« ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Java çš„ `ScheduledExecutorService` æ¥å®‰æ’å®šæ—¶ä»»åŠ¡ã€‚åŒæ—¶ï¼Œæ‚¨éœ€è¦ç¼–å†™ä»£ç æ¥è¯»å–æˆ–æŒ‡å®šè¦æ¨é€çš„æ–‡ç« å†…å®¹ï¼Œå¹¶é€šè¿‡ MTProto å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚
ä½¿ç”¨ Java å†…ç½®çš„ `ScheduledExecutorService`ï¼Œæ— éœ€é¢å¤–ä¾èµ–ã€‚

#### 3.1 ç¼–å†™å®šæ—¶æ¨é€é…ç½®ç±»

```java
package com.litongjava.gpt.translator.config;

import java.time.LocalDateTime;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;

import com.litongjava.annotation.AConfiguration;
import com.litongjava.annotation.Initialization;
import com.litongjava.gpt.translator.services.ScheduledPushService;
import com.litongjava.jfinal.aop.Aop;

import lombok.extern.slf4j.Slf4j;

@AConfiguration
@Slf4j
public class SchedulerConfig {

  private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);

  @Initialization
  public void startScheduledTask() {
    ScheduledPushService scheduledPushService = Aop.get(ScheduledPushService.class);
    // è®¾å®šä»»åŠ¡åœ¨æ¯å¤©çš„å›ºå®šæ—¶é—´æ‰§è¡Œï¼Œä¾‹å¦‚æ¯å¤©ä¸Šåˆ9ç‚¹
    long initialDelay = computeInitialDelay(9, 00); // 9:00 AM
    long period = TimeUnit.DAYS.toSeconds(1);

    scheduler.scheduleAtFixedRate(scheduledPushService::pushArticleToGroup, initialDelay, period, TimeUnit.SECONDS);
    log.info("å®šæ—¶æ¨é€ä»»åŠ¡å·²å¯åŠ¨ï¼Œæ¯å¤©ä¸Šåˆ9ç‚¹æ‰§è¡Œã€‚");
  }

  /**
   * è®¡ç®—ä»å½“å‰æ—¶é—´åˆ°ç›®æ ‡æ—¶é—´çš„åˆå§‹å»¶è¿Ÿï¼ˆç§’ï¼‰
   */
  private long computeInitialDelay(int targetHour, int targetMinute) {
    LocalDateTime now = LocalDateTime.now();
    LocalDateTime nextRun = now.withHour(targetHour).withMinute(targetMinute).withSecond(0).withNano(0);
    if (now.compareTo(nextRun) > 0) {
      nextRun = nextRun.plusDays(1);
    }
    return java.time.Duration.between(now, nextRun).getSeconds();
  }
}
```

#### 3.2 ç¼–å†™å®šæ—¶æ¨é€ä¸šåŠ¡ç±»

åˆ›å»ºä¸€ä¸ªæ–°çš„ Java ç±» `ScheduledPushService`ï¼Œè´Ÿè´£ç®¡ç†å®šæ—¶ä»»åŠ¡å¹¶å‘ç¾¤ç»„æ¨é€æ–‡ç« ã€‚

```java
package com.litongjava.gpt.translator.services;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;

import com.litongjava.gpt.translator.client.TelegramClient;

import lombok.extern.slf4j.Slf4j;
import reactor.core.publisher.Mono;
import telegram4j.core.object.Message;
import telegram4j.core.object.chat.Chat;
import telegram4j.core.spec.SendMessageSpec;
import telegram4j.core.util.Id;

@Slf4j
public class ScheduledPushService {

  // ç¾¤ç»„çš„ Chat IDï¼Œè¯·åœ¨å‰é¢æ­¥éª¤ä¸­è·å–
  private final Long groupChatId = 4679160257L;

  /**
   * æ¨é€æ–‡ç« åˆ°ç¾¤ç»„
   */
  public void pushArticleToGroup() {
    String article = getDailyArticle();
    try {
      sendMessageToGroup(article).subscribe();
      log.info("æˆåŠŸå‘ç¾¤ç»„æ¨é€æ–‡ç« ã€‚");
    } catch (Exception e) {
      log.error("æ¨é€æ–‡ç« åˆ°ç¾¤ç»„æ—¶å‘ç”Ÿå¼‚å¸¸", e);
    }
  }

  /**
   * è·å–å½“å¤©è¦æ¨é€çš„æ–‡ç« 
   *
   * @return æ–‡ç« å†…å®¹
   */
  public String getDailyArticle() {
    // ç¤ºä¾‹ï¼šæ ¹æ®æ—¥æœŸç”Ÿæˆæ–‡ç« æ ‡é¢˜
    LocalDate today = LocalDate.now();
    String formattedDate = today.format(DateTimeFormatter.ofPattern("yyyyå¹´MMæœˆddæ—¥"));
    String article = String.format("ğŸ“… **æ¯æ—¥ä¸€æ–‡** - %s\n\nè¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼", formattedDate);
    return article;
  }

  /**
   * é€šè¿‡ MTProto å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šç¾¤ç»„
   */
  private Mono<Message> sendMessageToGroup(String message) {
    Id chatId = Id.ofChat(groupChatId);
    Mono<Chat> monoChat = TelegramClient.client.getChatById(chatId);
    Mono<Message> monoMessage = monoChat.flatMap(chat -> chat.sendMessage(SendMessageSpec.of(message)));
    return monoMessage;
  }
}
```

**ä»£ç è§£æï¼š**

1. **ScheduledExecutorService**ï¼šç”¨äºç®¡ç†å®šæ—¶ä»»åŠ¡ã€‚è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå•çº¿ç¨‹çš„è°ƒåº¦å™¨ã€‚

2. **startScheduledTask() æ–¹æ³•**ï¼šé…ç½®å®šæ—¶ä»»åŠ¡ï¼Œä½¿å…¶æ¯å¤©ä¸Šåˆ 9 ç‚¹æ‰§è¡Œ `pushArticleToGroup` æ–¹æ³•ã€‚

3. **computeInitialDelay() æ–¹æ³•**ï¼šè®¡ç®—å½“å‰æ—¶é—´åˆ°ä¸‹ä¸€ä¸ªç›®æ ‡æ—¶é—´ï¼ˆå¦‚ 9:00 AMï¼‰çš„å»¶è¿Ÿï¼Œä»¥ç¡®ä¿ä»»åŠ¡åœ¨æ­£ç¡®çš„æ—¶é—´å¼€å§‹ã€‚

4. **pushArticleToGroup() æ–¹æ³•**ï¼šè°ƒç”¨ è·å–å½“å¤©çš„æ–‡ç« ï¼Œå¹¶é€šè¿‡ `sendMessageToGroup` æ–¹æ³•å‘é€åˆ°ç¾¤ç»„ã€‚

5. **sendMessageToGroup() æ–¹æ³•**ï¼šä½¿ç”¨ MTProto å®¢æˆ·ç«¯å‘æŒ‡å®šç¾¤ç»„å‘é€æ¶ˆæ¯ã€‚

6. **getDailyArticle() æ–¹æ³•**ï¼šå½“å‰ç¤ºä¾‹ä¸­ï¼Œæ–‡ç« å†…å®¹æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼ŒåŒ…å«å½“å¤©çš„æ—¥æœŸã€‚æ‚¨å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ï¼Œä¿®æ”¹æ­¤æ–¹æ³•ä»¥ä»æ•°æ®åº“æˆ–å…¶ä»–æ¥æºè·å–çœŸå®çš„æ–‡ç« å†…å®¹ã€‚

### 4. æµ‹è¯•ä¸éªŒè¯

å®Œæˆä¸Šè¿°é…ç½®åï¼Œæ‚¨éœ€è¦æµ‹è¯•å®šæ—¶æ¨é€åŠŸèƒ½ï¼Œç¡®ä¿æœºå™¨äººèƒ½å¤ŸæŒ‰é¢„æœŸå‘ç¾¤ç»„æ¨é€æ–‡ç« ã€‚

#### 4.1 å¯åŠ¨æœºå™¨äºº

åœ¨ TelegramTranslateBot è·å– client å¹¶æ·»åŠ åˆ° TelegramClient.client ä¸­

```java
package com.litongjava.gpt.translator.config;

import java.nio.file.Path;
import java.time.Duration;
import java.util.function.Function;

import com.litongjava.annotation.AConfiguration;
import com.litongjava.annotation.Initialization;
import com.litongjava.gpt.translator.client.TelegramClient;
import com.litongjava.gpt.translator.predicate.UserPredicate;
import com.litongjava.gpt.translator.tgfunc.TranslateFunction;
import com.litongjava.tio.boot.server.TioBootServer;
import com.litongjava.tio.utils.environment.EnvUtils;

import lombok.extern.slf4j.Slf4j;
import reactor.util.retry.Retry;
import telegram4j.core.MTProtoBootstrap;
import telegram4j.core.MTProtoTelegramClient;
import telegram4j.core.event.domain.message.SendMessageEvent;
import telegram4j.mtproto.RpcException;
import telegram4j.mtproto.store.FileStoreLayout;
import telegram4j.mtproto.store.StoreLayoutImpl;

@Slf4j
@AConfiguration
public class TelegramTranslateBot {

  @Initialization
  public void config() {
    // ä»ç¯å¢ƒå˜é‡è·å– Telegram API é…ç½®ä¿¡æ¯
    int apiId = EnvUtils.getInt("telegram.api.id");
    String apiHash = EnvUtils.getStr("telegram.api.hash");
    String botAuthToken = EnvUtils.getStr("telegram.bot.auth.token");

    String botId = botAuthToken.split(":")[0];
    // åˆ›å»ºå¹¶è¿æ¥ MTProto Telegram å®¢æˆ·ç«¯
    MTProtoBootstrap bootstrap = MTProtoTelegramClient.create(apiId, apiHash, botAuthToken);

    StoreLayoutImpl storeLayoutImpl = new StoreLayoutImpl(Function.identity());
    FileStoreLayout storeLayout = new FileStoreLayout(storeLayoutImpl, Path.of("t4j-bot_" + botId + ".bin"));
    bootstrap.setStoreLayout(storeLayout);

    MTProtoTelegramClient client = bootstrap.connect().block();
    if (client == null) {
      log.error("Failed to connect to Telegram MTProto client.");
      return;
    }

    // è·å–è‡ªå·±çš„id
    long selfId = client.getSelfId().asLong();
    log.info("self id:{}", selfId);

    // é…ç½®äº‹ä»¶ç›‘å¬å™¨ï¼šæ¥æ”¶ SendMessageEventï¼Œè¿‡æ»¤ç”¨æˆ·æ¶ˆæ¯ï¼Œå¹¶åº”ç”¨ç¿»è¯‘åŠŸèƒ½
    client.on(SendMessageEvent.class)
        //
        .filter(new UserPredicate(selfId)::test).flatMap(new TranslateFunction()::apply)
        //
        .delayElements(Duration.ofSeconds(1)) // æ¯ç§’æœ€å¤šå‘é€ä¸€æ¡æ¶ˆæ¯
        //
        .doOnError(e -> log.error("å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯", e))
        //
        .retryWhen(Retry.backoff(5, Duration.ofSeconds(1)).filter(e -> e instanceof RpcException))
        //
        .subscribe();

    TelegramClient.client = client;

    // é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ï¼Œç›‘æ§å®¢æˆ·ç«¯æ–­å¼€è¿æ¥
    //    TioThreadUtils.submit(() -> {
    //      client.onDisconnect().block();
    //      log.info("Telegram client disconnected.");
    //    });

    // åœ¨æœåŠ¡å™¨å…³é—­æ—¶ï¼Œæ–­å¼€ Telegram å®¢æˆ·ç«¯è¿æ¥
    HookCan.me().addDestroyMethod(client::disconnect);

    log.info("Telegram MTProto client configured and connected.");
  }
}
```

```java
package com.litongjava.gpt.translator.client;

import telegram4j.core.MTProtoTelegramClient;

public class TelegramClient {

  public static MTProtoTelegramClient client = null;

}
```

#### 4.2 æ‰‹åŠ¨è§¦å‘æ¨é€ä»»åŠ¡ï¼ˆå¯é€‰ï¼‰

ä¸ºäº†éªŒè¯æ¨é€åŠŸèƒ½ï¼Œæˆ‘ä»¬ç¼–è¾‘ä¸€ä¸ª Controller æµ‹è¯•æ¨é€ä»£ç 

```java
package com.litongjava.gpt.translator.controller;

import com.litongjava.annotation.RequestPath;
import com.litongjava.gpt.translator.services.ScheduledPushService;
import com.litongjava.jfinal.aop.Aop;
import com.litongjava.model.body.RespBodyVo;

@RequestPath("/test")
public class TestController {

  public RespBodyVo push() {
    Aop.get(ScheduledPushService.class).pushArticleToGroup();
    return RespBodyVo.ok();
  }
}

```

ä¿å­˜ä¿®æ”¹å¹¶é‡æ–°å¯åŠ¨æœºå™¨äººï¼Œè§‚å¯Ÿç¾¤ç»„ä¸­æ˜¯å¦æ”¶åˆ°æ¨é€çš„æ–‡ç« æ¶ˆæ¯ã€‚

## å°†æœºå™¨äººæ·»åŠ åˆ°ç¾¤é‡Œåè‡ªåŠ¨è·å– ChatId

å°†æœºå™¨äººæ·»åŠ åˆ°ç¾¤é‡Œå æœºå™¨äººä¼šæ”¶åˆ°ä¸€ä¸ª SendMessageEvent,event message action is MessageActionChatAddUser,å…·ä½“å†…å®¹å¦‚ä¸‹

```log
SendMessageEvent{
	message=Message{data=Variant2{t2=MessageService#2b085862{flags=100000000, id=1698, fromId=PeerUser#59511722{userId=6276672963}, peerId=PeerChat#36c6019a{chatId=4679160257}, replyTo=null, date=1733599167, action=MessageActionChatAddUser#15cefd00{users=[7847170133]}, ttlPeriod=null}}},

	chat=GroupChat{minData=BaseChat#41cbf256{flags=1000000000000000000, id=4679160257, title='telegram_dev_test', photo=ChatPhotoEmpty#37c1011c{}, participantsCount=2, date=1733599148, version=2, migratedTo=null, adminRights=null, defaultBannedRights=ChatBannedRights#9f120418{flags=0, untilDate=2147483647}}, fullData=null},

	author=User{minData=BaseUser#abb5f120{flags=10010000000000000001101011, flags2=10000, id=6276672963, accessHash=-6745242867060598026, firstName='', lastName='null', username='', phone='null', photo=BaseUserProfilePhoto#82d1f706{flags=0, photoId=5129962608709971087, strippedThumb=null, dcId=1}, status=UserStatusRecently#e26f42f1{}, botInfoVersion=null, restrictionReason=null, botInlinePlaceholder='null', langCode='zh-hans', emojiStatus=null, usernames=null, storiesMaxId=null}, fullData=null}
}
```

å¦‚æœæœºå™¨äººæ”¶åˆ°ç”¨æˆ·å‘é€çš„æ¶ˆæ¯,event message æ²¡æœ‰ action å¯¹è±¡

```
SendMessageEvent{
	message=Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000000, id=1702, fromId=PeerUser#59511722{userId=6276672963}, peerId=PeerChat#36c6019a{chatId=4679160257}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733622976, message='get_chat_id', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}},

	chat=GroupChat{minData=BaseChat#41cbf256{flags=1000000000000000000, id=4679160257, title='telegram_dev_test', photo=ChatPhotoEmpty#37c1011c{}, participantsCount=2, date=1733599148, version=2, migratedTo=null, adminRights=null, defaultBannedRights=ChatBannedRights#9f120418{flags=0, untilDate=2147483647}}, fullData=null},

	author=User{minData=BaseUser#abb5f120{flags=10010000000000000001101011, flags2=10000, id=6276672963, accessHash=-6745242867060598026, firstName='', lastName='null', username='', phone='null', photo=BaseUserProfilePhoto#82d1f706{flags=0, photoId=5129962608709971087, strippedThumb=null, dcId=1}, status=UserStatusRecently#e26f42f1{}, botInfoVersion=null, restrictionReason=null, botInlinePlaceholder='null', langCode='zh-hans', emojiStatus=null, usernames=null, storiesMaxId=null}, fullData=null}
}
```

## æ¨é€æ¶ˆæ¯åˆ°è¶…çº§ç¾¤

### é—®é¢˜æè¿°

æˆ‘è‡ªå·±åˆ›å»ºçš„ç¾¤,æˆ‘å¯ä»¥æ¨é€æ¶ˆæ¯,ä½†æ˜¯åˆ«äººåˆ›å»ºçš„ç¾¤å´ä¸è¡Œ 1.æˆ‘åˆ›å»ºçš„ç¾¤æ˜¯ groupChat 2.åˆ«äººåˆ›å»ºæ˜¯ SupergroupChat

SupergroupChat è·å–åˆ°çš„æ¶ˆæ¯å¦‚ä¸‹,è¯¥å¦‚ä½•è§£å†³

```
SendMessageEvent{

	message=Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000010, id=55, fromId=PeerUser#59511722{userId=user_id}, peerId=PeerChannel#a2a5371e{channelId=chat_id}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733626097, message='Chat ID: chat_id', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}},

	chat=SupergroupChat{minData=Channel#83259464{flags=1000110000100000000, flags2=0, id=chat_id, accessHash=-2695782318103141212, title='å®¡æ ¸ç¾¤', username='null', photo=ChatPhotoEmpty#37c1011c{}, date=1733625678, restrictionReason=null, adminRights=ChatAdminRights#5fb224d5{flags=1101010111001}, bannedRights=null, defaultBannedRights=ChatBannedRights#9f120418{flags=0, untilDate=2147483647}, participantsCount=null, usernames=null}, fullData=null},

	author=User{minData=BaseUser#abb5f120{flags=10000000001100010000001011, flags2=10010, id=user_id, accessHash=-4262855346709871929, firstName='my-translator', lastName='null', username='litongjava_bot', phone='null', photo=null, status=null, botInfoVersion=1, restrictionReason=null, botInlinePlaceholder='null', langCode='null', emojiStatus=null, usernames=null, storiesMaxId=null}, fullData=null}

}
```

### é—®é¢˜åˆ†æ

åœ¨ Telegram ä¸­ï¼Œ**æ™®é€šç¾¤ç»„ï¼ˆGroupChatï¼‰** å’Œ **è¶…çº§ç¾¤ç»„ï¼ˆSupergroupChatï¼‰** åœ¨ MTProto åè®®ä¸­æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚å…·ä½“æ¥è¯´ï¼Œ**è¶…çº§ç¾¤ç»„** è¢«è§†ä¸º **é¢‘é“ï¼ˆChannelï¼‰**ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥è·å–å’Œä½¿ç”¨å…¶ `Chat ID`ã€‚

ä»¥ä¸‹æ˜¯è¯¦ç»†çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©æ‚¨åœ¨è¶…çº§ç¾¤ç»„ä¸­å®ç°å®šæ—¶æ¨é€åŠŸèƒ½ã€‚

1. **ç¾¤ç»„ç±»å‹ä¸åŒ**ï¼š

   - **æ™®é€šç¾¤ç»„ï¼ˆGroupChatï¼‰** ä½¿ç”¨ `PeerChat`ï¼Œå…¶ `Chat ID` æ˜¯ä¸€ä¸ªè¾ƒå¤§çš„æ•°å€¼ï¼ˆä¾‹å¦‚ï¼š4679160257ï¼‰ã€‚
   - **è¶…çº§ç¾¤ç»„ï¼ˆSupergroupChatï¼‰** ä½¿ç”¨ `PeerChannel`ï¼Œå…¶ `Channel ID` æ˜¯ä¸€ä¸ªè¾ƒå°çš„æ•°å€¼ï¼ˆä¾‹å¦‚ï¼š2431959548ï¼‰ã€‚

2. **ID æ„å»ºæ–¹å¼ä¸åŒ**ï¼š
   - å¯¹äº **æ™®é€šç¾¤ç»„**ï¼Œéœ€è¦ä½¿ç”¨ `Id.ofChat(groupChatId)`ã€‚
   - å¯¹äº **è¶…çº§ç¾¤ç»„**ï¼Œéœ€è¦ä½¿ç”¨ `Id.ofChannel(channelId)`ã€‚

å› æ­¤ï¼Œå½“æ‚¨å‘è¶…çº§ç¾¤ç»„å‘é€æ¶ˆæ¯æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `Channel ID` å¹¶é€šè¿‡ `Id.ofChannel` æ–¹æ³•æ„å»º `Id` å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `Id.ofChat`ã€‚

### ä¿®æ”¹åçš„ä»£ç 

```java
package com.litongjava.gpt.translator.services;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;

import com.litongjava.gpt.translator.client.TelegramClient;

import lombok.extern.slf4j.Slf4j;
import reactor.core.publisher.Mono;
import telegram4j.core.object.Message;
import telegram4j.core.spec.SendMessageSpec;
import telegram4j.core.util.Id;

@Slf4j
public class ScheduledPushService {

  // æ™®é€šç¾¤ç»„çš„ Chat ID
  private final Long groupChatId = 8888888L;

  // è¶…çº§ç¾¤ç»„çš„ Channel ID
  private final Long supergroupChannelId = 999999999L;

  /**
   * æ¨é€æ–‡ç« åˆ°ç¾¤ç»„å’Œè¶…çº§ç¾¤ç»„
   */
  public void pushArticleToGroup() {
    SendMessageSpec messageSpec = SendMessageSpec.of(getDailyArticle());

    try {
      // æ¨é€åˆ°è¶…çº§ç¾¤ç»„
      sendMessageToGroup(supergroupChannelId, true, messageSpec).doOnSuccess(msg -> log.info("æˆåŠŸå‘è¶…çº§ç¾¤ç»„æ¨é€æ–‡ç« ã€‚")).doOnError(e -> log.error("å‘è¶…çº§ç¾¤ç»„æ¨é€æ–‡ç« æ—¶å‘ç”Ÿå¼‚å¸¸", e)).subscribe();

      // æ¨é€åˆ°æ™®é€šç¾¤ç»„
      sendMessageToGroup(groupChatId, false, messageSpec).doOnSuccess(msg -> log.info("æˆåŠŸå‘æ™®é€šç¾¤ç»„æ¨é€æ–‡ç« ã€‚")).doOnError(e -> log.error("å‘æ™®é€šç¾¤ç»„æ¨é€æ–‡ç« æ—¶å‘ç”Ÿå¼‚å¸¸", e)).subscribe();

      log.info("æ¨é€ä»»åŠ¡å·²å®Œæˆã€‚");
    } catch (Exception e) {
      log.error("æ¨é€æ–‡ç« åˆ°ç¾¤ç»„æ—¶å‘ç”Ÿå¼‚å¸¸", e);
    }
  }

  /**
   * è·å–å½“å¤©è¦æ¨é€çš„æ–‡ç« 
   *
   * @return æ–‡ç« å†…å®¹
   */
  public String getDailyArticle() {
    LocalDate today = LocalDate.now();
    String formattedDate = today.format(DateTimeFormatter.ofPattern("yyyyå¹´MMæœˆddæ—¥"));
    String article = String.format("ğŸ“… **æ¯æ—¥ä¸€æ–‡** - %s\n\nè¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼", formattedDate);
    return article;
  }

  /**
   * é€šè¿‡ MTProto å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šç¾¤ç»„æˆ–è¶…çº§ç¾¤ç»„
   *
   * @param id        ç¾¤ç»„ ID æˆ–é¢‘é“ ID
   * @param isChannel æ˜¯å¦ä¸ºé¢‘é“ï¼ˆè¶…çº§ç¾¤ç»„ï¼‰
   * @param messageSpec æ¶ˆæ¯è§„èŒƒ
   * @return Mono<Message>
   */
  private Mono<Message> sendMessageToGroup(Long id, boolean isChannel, SendMessageSpec messageSpec) {
    Id chatId;
    if (isChannel) {
      chatId = Id.ofChannel(id);
    } else {
      chatId = Id.ofChat(id);
    }

    return TelegramClient.client.getChatById(chatId).flatMap(chat -> {
      log.info("å°è¯•å‘é€æ¶ˆæ¯åˆ° {}: {}", isChannel ? "è¶…çº§ç¾¤ç»„" : "æ™®é€šç¾¤ç»„", id);
      return chat.sendMessage(messageSpec).doOnNext(msg -> log.info("æ¶ˆæ¯å‘é€æˆåŠŸ: {}", msg)).doOnError(e -> log.error("æ¶ˆæ¯å‘é€å¤±è´¥: ", e));
    });
  }
}

```

### è¿è¡Œæ—¥å¿—

```
2024-12-07 19:22:41.678 [tio-group-3] INFO  c.l.g.t.s.ScheduledPushService.lambda$4:71 - å°è¯•å‘é€æ¶ˆæ¯åˆ° è¶…çº§ç¾¤ç»„: {è¶…çº§ç¾¤Id}
2024-12-07 19:22:41.691 [tio-group-3] INFO  c.l.g.t.s.ScheduledPushService.pushArticleToGroup:36 - æ¨é€ä»»åŠ¡å·²å®Œæˆã€‚
2024-12-07 19:22:41.835 [ForkJoinPool.commonPool-worker-1] INFO  c.l.g.t.s.ScheduledPushService.lambda$5:72 - æ¶ˆæ¯å‘é€æˆåŠŸ: Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000010, id=69, fromId=PeerUser#59511722{userId=7847170133}, peerId=PeerChannel#a2a5371e{channelId={è¶…çº§ç¾¤Id}}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733635379, message='ğŸ“… **æ¯æ—¥ä¸€æ–‡** - 2024å¹´12æœˆ07æ—¥

è¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}}
2024-12-07 19:22:41.836 [ForkJoinPool.commonPool-worker-1] INFO  c.l.g.t.s.ScheduledPushService.lambda$0:31 - æˆåŠŸå‘è¶…çº§ç¾¤ç»„æ¨é€æ–‡ç« ã€‚
2024-12-07 19:22:41.836 [t4j-events-2] INFO  c.l.g.t.p.UserPredicate.test:21 - e:SendMessageEvent{message=Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000010, id=69, fromId=PeerUser#59511722{userId=7847170133}, peerId=PeerChannel#a2a5371e{channelId={è¶…çº§ç¾¤Id}}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733635379, message='ğŸ“… **æ¯æ—¥ä¸€æ–‡** - 2024å¹´12æœˆ07æ—¥

è¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}}, chat=SupergroupChat{minData=Channel#83259464{flags=1000110000100000000, flags2=0, id={è¶…çº§ç¾¤Id}, accessHash=-2695782318103141212, title='æœ€å¼ºäº’æ¨æœºå™¨äººå®¡æ ¸ç¾¤', username='null', photo=ChatPhotoEmpty#37c1011c{}, date=1733625678, restrictionReason=null, adminRights=ChatAdminRights#5fb224d5{flags=1101010111001}, bannedRights=null, defaultBannedRights=ChatBannedRights#9f120418{flags=0, untilDate=2147483647}, participantsCount=null, usernames=null}, fullData=null}, author=User{minData=BaseUser#abb5f120{flags=10000000001100010000001011, flags2=10010, id=7847170133, accessHash=-4262855346709871929, firstName='my-translator', lastName='null', username='litongjava_bot', phone='null', photo=null, status=null, botInfoVersion=1, restrictionReason=null, botInlinePlaceholder='null', langCode='null', emojiStatus=null, usernames=null, storiesMaxId=null}, fullData=null}}
2024-12-07 19:22:41.836 [t4j-events-2] INFO  c.l.g.t.p.UserPredicate.test:37 - è·å–åˆ°æœºäººè‡ªå·±çš„æ¶ˆæ¯
2024-12-07 19:22:41.853 [ForkJoinPool.commonPool-worker-1] INFO  c.l.g.t.s.ScheduledPushService.lambda$4:71 - å°è¯•å‘é€æ¶ˆæ¯åˆ° æ™®é€šç¾¤ç»„: {æ™®é€šç¾¤Id}
2024-12-07 19:22:42.000 [ForkJoinPool.commonPool-worker-1] INFO  c.l.g.t.s.ScheduledPushService.lambda$5:72 - æ¶ˆæ¯å‘é€æˆåŠŸ: Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000010, id=1752, fromId=PeerUser#59511722{userId=7847170133}, peerId=PeerChat#36c6019a{chatId={æ™®é€šç¾¤Id}}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733635379, message='ğŸ“… **æ¯æ—¥ä¸€æ–‡** - 2024å¹´12æœˆ07æ—¥

è¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}}
2024-12-07 19:22:42.004 [ForkJoinPool.commonPool-worker-1] INFO  c.l.g.t.s.ScheduledPushService.lambda$2:34 - æˆåŠŸå‘æ™®é€šç¾¤ç»„æ¨é€æ–‡ç« ã€‚
2024-12-07 19:22:42.005 [t4j-events-2] INFO  c.l.g.t.p.UserPredicate.test:21 - e:SendMessageEvent{message=Message{data=Variant2{t1=BaseMessage#38116ee0{flags=100000010, id=1752, fromId=PeerUser#59511722{userId=7847170133}, peerId=PeerChat#36c6019a{chatId={æ™®é€šç¾¤Id}}, fwdFrom=null, viaBotId=null, replyTo=null, date=1733635379, message='ğŸ“… **æ¯æ—¥ä¸€æ–‡** - 2024å¹´12æœˆ07æ—¥

è¿™é‡Œæ˜¯ä»Šå¤©çš„æ–‡ç« å†…å®¹ã€‚è¯·å¤§å®¶é˜…è¯»å¹¶è®¨è®ºï¼', media=null, replyMarkup=null, entities=null, views=null, forwards=null, replies=null, editDate=null, postAuthor='null', groupedId=null, reactions=null, restrictionReason=null, ttlPeriod=null}}}, chat=null, author=null}
2024-12-07 19:22:42.006 [t4j-events-2] INFO  c.l.g.t.p.UserPredicate.test:28 - æ¶ˆæ¯å‘é€è€…ä¿¡æ¯ç¼ºå¤±ï¼Œå¯èƒ½æ˜¯æœºå™¨äººè‡ªèº«å‘é€çš„æ¶ˆæ¯ã€‚

```

### æ³¨æ„äº‹é¡¹

åœ¨é¦–æ¬¡å¯åŠ¨åº”ç”¨ç¨‹åºåï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. **ä½¿ç”¨ä¸ªäººè´¦å·å‘æœºå™¨äººå‘é€æ¶ˆæ¯**ï¼š

   - **æ“ä½œ**ï¼šä½¿ç”¨æ‚¨çš„ä¸ªäºº Telegram è´¦å·å‘æœºå™¨äººå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œç­‰å¾…æœºå™¨äººçš„å›å¤ã€‚
   - **åŸå› **ï¼šè¿™æ˜¯ä¸ºäº†å»ºç«‹ä¸æœºå™¨äººçš„åˆå§‹è¿æ¥ï¼Œå¹¶ç¡®ä¿æœºå™¨äººèƒ½å¤Ÿè¯†åˆ«æ‚¨çš„è´¦å·ã€‚è¿™ä¸€æ­¥éª¤ç¡®ä¿æœºå™¨äººå…·å¤‡ä¸æ‚¨çš„è´¦å·è¿›è¡ŒåŒå‘é€šä¿¡çš„æƒé™ã€‚

2. **åœ¨è¶…çº§ç¾¤ç»„ä¸­å‘æœºå™¨äººå‘é€æ¶ˆæ¯**ï¼š

   - **æ“ä½œ**ï¼šåœ¨ç›®æ ‡è¶…çº§ç¾¤ç»„ä¸­å‘é€ä¸€æ¡æ¶ˆæ¯ç»™æœºå™¨äººï¼Œç­‰å¾…æœºå™¨äººçš„å›å¤ã€‚
   - **åŸå› **ï¼šæœºå™¨äººéœ€è¦ç¡®è®¤å…¶åœ¨è¶…çº§ç¾¤ç»„ä¸­çš„å­˜åœ¨å¹¶è·å¾—å¿…è¦çš„æƒé™ã€‚é€šè¿‡åœ¨ç¾¤ç»„ä¸­å‘é€æ¶ˆæ¯ï¼Œæ‚¨ç¡®ä¿æœºå™¨äººèƒ½å¤Ÿæ¥æ”¶åˆ°ç¾¤ç»„çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¹¶æ­£ç¡®å¤„ç†æ¥è‡ªç¾¤ç»„çš„è¯·æ±‚ã€‚

3. **ç­‰å¾…æœºå™¨äººå›å¤åå†è¿›è¡Œæ¨é€**ï¼š
   - **æ“ä½œ**ï¼šåªæœ‰åœ¨æœºå™¨äººæˆåŠŸå›å¤ä¸Šè¿°ä¸¤æ­¥æ“ä½œåï¼Œæ‰å¼€å§‹æ‰§è¡Œå®šæ—¶æ¨é€ä»»åŠ¡ã€‚
   - **åŸå› **ï¼šç¡®ä¿æœºå™¨äººå·²ç»æ­£ç¡®è¿æ¥å¹¶è·å¾—äº†æ‰€éœ€çš„è®¿é—®æƒé™ã€‚è¿™ä¸€æ­¥éª¤é˜²æ­¢åœ¨æœºå™¨äººæœªå®Œå…¨å‡†å¤‡å¥½çš„æƒ…å†µä¸‹å°è¯•å‘é€æ¶ˆæ¯ï¼Œä»è€Œé¿å…æ½œåœ¨çš„é”™è¯¯æˆ–æ¶ˆæ¯å‘é€å¤±è´¥ã€‚

## å¸¸è§é—®é¢˜

---

### é—®é¢˜ä¸€ï¼šæœºå™¨äººæ— æ³•å‘ç¾¤ç»„å‘é€æ¶ˆæ¯

**å¯èƒ½åŸå› åŠè§£å†³æ–¹æ³•ï¼š**

1. **æƒé™ä¸è¶³**ï¼š

   - ç¡®ä¿æœºå™¨äººåœ¨ç¾¤ç»„ä¸­å…·æœ‰å‘é€æ¶ˆæ¯çš„æƒé™ã€‚
   - æ£€æŸ¥ç¾¤ç»„è®¾ç½®ï¼Œç¡®è®¤æœºå™¨äººæœªè¢«é™åˆ¶å‘é€æ¶ˆæ¯ã€‚

2. **é”™è¯¯çš„ Chat ID**ï¼š

   - ç¡®è®¤ç¾¤ç»„çš„ Chat ID æ˜¯å¦æ­£ç¡®ã€‚
   - ä½¿ç”¨å‰è¿°æ–¹æ³•é‡æ–°è·å– Chat IDï¼Œå¹¶æ›´æ–°é…ç½®ã€‚

3. **ç½‘ç»œè¿æ¥é—®é¢˜**ï¼š

   - ç¡®ä¿æœåŠ¡å™¨èƒ½å¤Ÿæ­£å¸¸è®¿é—® Telegram APIã€‚
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®ä¿ç›¸å…³ç«¯å£æœªè¢«é˜»æ­¢ã€‚

4. **æœºå™¨äººæœªè¿æ¥åˆ° MTProto å®¢æˆ·ç«¯**ï¼š
   - æŸ¥çœ‹æ—¥å¿—ï¼Œç¡®è®¤æœºå™¨äººå·²æˆåŠŸè¿æ¥åˆ° Telegram MTProto å®¢æˆ·ç«¯ã€‚
   - å¦‚æœæœªè¿æ¥ï¼Œæ£€æŸ¥ API ID å’Œ Hash æ˜¯å¦æ­£ç¡®é…ç½®ã€‚

---

## æ€»ç»“

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä¸ºåŸºäº MTProto åè®®å¼€å‘çš„ Telegram ç¿»è¯‘æœºå™¨äººæ·»åŠ å®šæ—¶æ¨é€åŠŸèƒ½ã€‚é€šè¿‡åˆ›å»º Telegram ç¾¤ç»„ã€é…ç½®æœºå™¨äººæƒé™ã€å®ç°å®šæ—¶ä»»åŠ¡è°ƒåº¦ä»¥åŠç¼–å†™æ¨é€é€»è¾‘ï¼Œæ‚¨å¯ä»¥å®ç°è‡ªåŠ¨å‘ç¾¤ç»„æ¨é€æ–‡ç« çš„åŠŸèƒ½ã€‚å®šæ—¶æ¨é€ä¸ä»…èƒ½å¤Ÿæé«˜ç¾¤ç»„çš„æ´»è·ƒåº¦ï¼Œè¿˜èƒ½ä¸ºç”¨æˆ·æä¾›å®šæœŸçš„æœ‰ä»·å€¼å†…å®¹ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚

### å…³é”®æ­¥éª¤å›é¡¾ï¼š

1. **åˆ›å»º Telegram ç¾¤ç»„**ï¼šç”¨äºæ¥æ”¶å®šæ—¶æ¨é€çš„æ–‡ç« ã€‚
2. **é…ç½®æœºå™¨äººåŠ å…¥ç¾¤ç»„**ï¼šç¡®ä¿æœºå™¨äººå…·æœ‰å‘é€æ¶ˆæ¯çš„æƒé™ï¼Œå¹¶è·å–ç¾¤ç»„çš„ Chat IDã€‚
3. **å®ç°å®šæ—¶æ¨é€åŠŸèƒ½**ï¼š
   - ä½¿ç”¨ `SchedulerConfig` ç®¡ç†å®šæ—¶ä»»åŠ¡ã€‚
   - ç¼–å†™ `ScheduledPushService` ç±»ï¼Œè´Ÿè´£å®šæ—¶è·å–æ–‡ç« å¹¶å‘é€åˆ°ç¾¤ç»„ã€‚
4. **æµ‹è¯•ä¸éªŒè¯**ï¼šç¡®ä¿å®šæ—¶æ¨é€åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œå¹¶æ ¹æ®éœ€è¦è°ƒæ•´é…ç½®å’Œä»£ç ã€‚

é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæ‚¨çš„ Telegram ç¿»è¯‘æœºå™¨äººå°†ä¸ä»…å…·å¤‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¿˜èƒ½ä¸»åŠ¨å‘ç¾¤ç»„æ¨é€å†…å®¹ï¼Œæå‡æœºå™¨äººçš„å®ç”¨æ€§å’Œç”¨æˆ·æ»¡æ„åº¦ã€‚å¸Œæœ›æœ¬èŠ‚å†…å®¹å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼ŒåŠ©æ‚¨é¡ºåˆ©æ‰©å±•æœºå™¨äººçš„åŠŸèƒ½ã€‚

# å‚è€ƒèµ„æ–™

- [Telegram MTProto å®˜æ–¹æ–‡æ¡£](https://core.telegram.org/mtproto)
- [Telegram4J GitHub ä»“åº“](https://github.com/telegram4j/telegram4j)
- [Reactor å®˜æ–¹æ–‡æ¡£](https://projectreactor.io/docs/core/release/reference/)
- [Java ScheduledExecutorService æ–‡æ¡£](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html)
